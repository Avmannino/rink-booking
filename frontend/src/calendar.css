/* ===== Layout: mini calendar left, main calendar right ===== */
.pageWrap {
  display: grid;
  /* Let the right column shrink — prevents overflow */
  grid-template-columns: 260px minmax(0, 1fr);
  gap: 18px;
  padding: 22px;
  background: #0b1220;
  min-height: 100vh;
  color: #e5e7eb;
}

/* No horizontal scrollbar on the page */
html, body { width: 100%; overflow-x: hidden; }

.miniWrap {
  background: #0f172a;
  border: 1px solid #1f2a44;
  border-radius: 12px;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.35);
  padding: 14px 10px 10px;
  height: fit-content;
}

.leftCol {
  display: flex;
  flex-direction: column;
  position: relative;
  top: 15vh;
  right: 0.5vw;
  height: fit-content;
  margin-top: 10px;
  gap: 2px;
}

/* Logo above the mini calendar */
.miniLogoWrap {
  display: flex;
  align-items: center;
  justify-content: center;
  background: #0f172a;
  border: 1px solid #1f2a44;
  border-radius: 12px;
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
  padding: 10px 8px;
}
.miniLogoLink { display: block; text-align: center; margin: 4px 0 10px; }
.miniLogo {
  max-width: 230px;
  height: auto;
  cursor: pointer;
  position: absolute;
  top: -20vh;
  left: 1vw;
}

/* Mini calendar header with centered title + arrows */
.miniHeaderBar {
  display: grid;
  grid-template-columns: 40px 1fr 40px;
  align-items: center;
  gap: 6px;
  padding: 0 4px 8px 4px;
  border-bottom: 1px solid #1f2a44;
  margin-bottom: 8px;
}
.miniHeaderTitle { text-align: center; font-weight: 700; font-size: 14px; color: #93c5fd; letter-spacing: .2px; }
.miniHeaderBtn {
  display: inline-flex; align-items: center; justify-content: center;
  width: 40px; height: 20px; padding: 0; border-radius: 4px;
  border: 1px solid #334155; background: #1f2a44; color: #cbd5e1; cursor: pointer; font-size: 25px; line-height: 1;
}
.miniHeaderBtn:hover { background: #24304e; }
.miniHeader { font-weight: 700; font-size: 14px; color: #93c5fd; padding: 0 6px 8px 6px; border-bottom: 1px solid #1f2a44; margin-bottom: 8px; }

/* Main calendar container — allow shrinking & add right breathing room */
.mainWrap {
  min-width: 0;            /* CRITICAL for grid child to shrink */
  width: 100%;
  background: #0f172a;
  border: 1px solid #1f2a44;
  border-radius: 12px;
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
  padding: 16px 36px 22px 16px;  /* extra right padding so border is visible */
  box-sizing: border-box;
  overflow-x: clip;        /* avoid accidental X-scroll */
}

/* ===== Heading + centered arrows ===== */
.title {
  text-align: center;
  margin: 4px 0 8px;
  font-weight: 800;
  font-size: 36px;
  color: #f1f5f9;
}
.centerNav { display: flex; align-items: center; justify-content: center; gap: 24px; margin: 0; }
.navBtn {
  display: inline-flex; align-items: center; justify-content: center;
  width: 44px; height: 38px; padding: 0;
  background: #1f2a44; border: 1px solid #334155; color: #cbd5e1; border-radius: 10px; cursor: pointer;
  position: relative; top: 1.2vh; font-size: 26px; line-height: 1;
}
.navBtn:hover { background: #24304e; }
.currentMonth { font-weight: 700; letter-spacing: .2px; color: #e2e8f0; position: relative; top: 1.2vh; font-size: 22px; }

/* Right-aligned Month/Week/Day buttons */
.viewRow { display: flex; justify-content: flex-end; margin-bottom: 8px; }
.viewBtns { display: flex; gap: 18px; }
.viewBtn {
  padding: 8px 16px; border-radius: 8px; background: #0c0d54; border: 1px solid #334155; color: #fff;
  font-size: 13px; font-weight: 700; cursor: pointer;
}
.viewBtn.active { background: #8b8b8b; color: #000; border: 2px solid #fff; }

/* Loading */
.loading { color: #94a3b8; text-align: center; }

/* ===== FullCalendar theme + hard width constraints ===== */
.fc {
  --fc-border-color: #1f2a44;
  --fc-page-bg-color: #0f172a;
  --fc-neutral-bg-color: #0f172a;
  --fc-list-border-color: #1f2a44;
  --fc-now-indicator-color: #ef4444;
  --fc-today-bg-color: #0b1431;
  --fc-event-text-color: #e5e7eb;

  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* Force FC's internal table to respect container width */
.mainWrap .fc .fc-scrollgrid {
  width: 100% !important;
  max-width: 100%;
  table-layout: fixed;     /* aligns header & body columns perfectly */
  box-sizing: border-box;
}
.mainWrap .fc .fc-view-harness,
.mainWrap .fc .fc-scroller {
  width: 100% !important;
  max-width: 100%;
  box-sizing: border-box;
}

/* Header area */
.fc .fc-toolbar.fc-header-toolbar { border-bottom: 1px solid #1f2a44; margin-bottom: 8px; padding-bottom: 6px; }
.fc .fc-toolbar-title { color: #cbd5e1; font-weight: 700; }

/* axis & day numbers a bit smaller to fit more vertically */
.fc .fc-timegrid-axis-cushion,
.fc .fc-daygrid-day-number {
  color: #94a3b8; font-weight: 600; font-size: 12px;
}

/* === VERTICAL SEPARATORS (header + body, always aligned) ===
   We draw a 1px line INSIDE each column using an inset box-shadow so it
   renders in both header and body without affecting layout or events. */
.mainWrap .fc .fc-col-header-cell,
.mainWrap .fc .fc-timegrid-col {
  box-shadow: inset -1px 0 0 #2a3658;  /* vertical separator */
}
.mainWrap .fc .fc-col-header-cell:last-child,
.mainWrap .fc .fc-timegrid-col:last-child {
  box-shadow: none;                     /* no line after the last column */
}

/* compressed 30-min rows for shorter calendar */
/* ===== TimeGrid row sizing & line colors (Week/Day) ===== */
.mainWrap .fc .fc-timegrid-slot {
  height: 28px !important;
  max-height: 28px !important;
  padding: 0 !important;

  /* draw ONE line per row using the TOP border */
  border-top: 1px solid #0f1a2c !important; /* base (half-hour = darker) */
  border-bottom: 0 !important;
}

/* Half-hour rows stay darker (explicit) */
.mainWrap .fc .fc-timegrid-slot.fc-timegrid-slot-minor {
  border-top-color: #0d1628 !important;     /* darker half-hour line */
}

/* On-the-hour rows become lighter */
.mainWrap .fc .fc-timegrid-slot:not(.fc-timegrid-slot-minor) {
  border-top-color: #2a3b5f !important;     /* lighter full-hour line */
}


/* Month grid look */
.mainWrap .fc .fc-daygrid-day-frame { min-height: 120px; }
.mainWrap .fc .fc-daygrid-day { border-right: 1px solid #1f2a44; border-bottom: 1px solid #1f2a44; }
.mainWrap .fc .fc-daygrid-day.fc-day-today { background: #ffffff; }
.mainWrap .fc .fc-daygrid-day-top a { color: #93c5fd; }

/* event text size */
.eventText {
  width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center; text-align: center;
  padding: 2px 6px; line-height: 1.25; white-space: normal; font-weight: 600; font-size: 12px;
}

/* ===== Mini calendar look ===== */
.miniWrap .fc { --fc-border-color: #1f2a44; --fc-page-bg-color: #0f172a; }
.miniWrap .fc .fc-col-header-cell-cushion { font-size: 12px; font-weight: 700; color: #93c5fd; }
.miniWrap .fc .fc-daygrid-day { border-right: 1px solid #1f2a44; border-bottom: 1px solid #1f2a44; }
.miniWrap .fc .fc-daygrid-day-frame { max-height: 45px !important; padding: 2px 4px; cursor: pointer; }
.miniWrap .fc .fc-daygrid-day-number { font-size: 12px; color: #ffffff; }
.miniWrap .fc .fc-daygrid-day.fc-day-today .fc-daygrid-day-frame { background: transparent; outline: 1px dashed #334155; }
.miniWrap .fc .fc-daygrid-day:hover { background: #3b4a66; }
.miniWrap .fc .miniSelected .fc-daygrid-day-frame { background: #1e293b !important; border-radius: 6px; }
.miniWrap .fc .miniSelected:hover .fc-daygrid-day-frame { background: #243447 !important; }
.miniWrap .fc .fc-view-harness { height: auto !important; }
.miniWrap .fc .fc-scroller { overflow: visible !important; }
.miniWrap .fc .fc-daygrid-body { height: auto !important; }
.miniWrap .fc .fc-scrollgrid { height: auto !important; border: 0; }
.miniWrap .fc .fc-view-harness,
.miniWrap .fc .fc-daygrid-body,
.miniWrap .fc table { background: transparent; }

/* Month TODAY tint on main calendar */
.mainWrap .fc .fc-daygrid-day.fc-day-today {
  background: rgba(96, 165, 250, 0.08);
}

/* Tooltips (JS sets core styles; radius for Safari) */
.slot-tooltip { border-radius: 10px; }

/* Optional nicer scrollbars */
* { scrollbar-width: thin; scrollbar-color: #334155 #0b1220; }
*::-webkit-scrollbar { height: 8px; width: 8px; }
*::-webkit-scrollbar-track { background: #0b1220; }
*::-webkit-scrollbar-thumb { background: #334155; border-radius: 8px; }
*::-webkit-scrollbar-thumb:hover { background: #3f4c6b; }

/* --- Carousel --- */
.carousel {
  position: relative;
  top: 6vh;
  overflow: hidden;
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #1f2a44;
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
.carouselTrack { display: flex; width: 100%; transition: transform 500ms ease; }
.carouselSlide {
  min-width: 100%; aspect-ratio: 16 / 10; display: grid; place-items: center; background: #0b1220;
}
.carouselSlide img { width: 100%; height: 100%; object-fit: contain; }
.carouselDots {
  position: absolute; left: 50%; transform: translateX(-50%); bottom: 8px; display: flex; gap: 8px;
}
.carouselDots .dot { width: 9px; height: 9px; border-radius: 999px; border: 1px solid #94a3b8; background: transparent; cursor: pointer; }
.carouselDots .dot.active { background: #94a3b8; }


/* Ensure we can absolutely-position the trigger inside the header area */
.mainWrap {
  position: relative; /* add this if not present */
}

/* Left-side trigger text in the main calendar header area */
.additionalInfoTrigger {
  position: absolute;
  left: 14px;                 /* adjust to taste */
  top: 12px;                  /* sits near your title row */
  background: transparent;
  border: 0;
  color: #93c5fd;
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 6px;
}
.additionalInfoTrigger:hover {
  background: rgba(147, 197, 253, 0.12);
}

/* Modal/backdrop */
.ai-backdrop {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.5);
  display: grid; place-items: center;
  z-index: 9999;
}
.ai-modal {
  width: min(680px, 92vw);
  background: #0f172a;
  border: 1px solid #1f2a44;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 16px 32px rgba(0,0,0,0.45);
  color: #e5e7eb;
}
.ai-modalHeader {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 10px;
}
.ai-modalHeader h3 {
  margin: 0; font-size: 18px; color: #e6e8f0; font-weight: 800;
}
.ai-closeBtn {
  border: 0; background: transparent; color: #cbd5e1;
  font-size: 18px; cursor: pointer; padding: 2px 6px; border-radius: 6px;
}
.ai-closeBtn:hover { background: #1f2a44; }

/* Accordion */
.ai-accordion { display: grid; gap: 10px; }
.ai-accordionItem {
  border: 1px solid #1f2a44;
  border-radius: 10px;
  background: #0b1220;
  overflow: clip;
}
.ai-accordionSummary {
  list-style: none;           /* hide default marker */
  display: flex; align-items: center; justify-content: space-between;
  gap: 10px;
  padding: 12px 14px;
  cursor: pointer;
  font-weight: 700;
  color: #e5e7eb;
}
.ai-accordionItem[open] .ai-accordionSummary {
  background: #111a2f;
}
.ai-caret {
  transition: transform 150ms ease;
}
.ai-accordionItem[open] .ai-caret {
  transform: rotate(180deg);
}

.ai-accordionPanel {
  padding: 12px 14px 14px;
  border-top: 1px solid #1f2a44;
  background: #0f172a;
}
.ai-textarea {
  width: 100%;
  min-height: 120px;
  padding: 10px 12px;
  background: #0b1220;
  border: 1px solid #334155;
  border-radius: 10px;
  color: #e5e7eb;
  outline: none;
  resize: vertical;
}

/* Modal actions */
.ai-actions {
  display: flex; justify-content: flex-end; gap: 8px; margin-top: 14px;
}
.ai-secondary, .ai-primary {
  appearance: none; border: 0; border-radius: 9999px; cursor: pointer;
  padding: 10px 16px; font-weight: 700;
}
.ai-secondary { background: #e5e7eb; color: #111827; }
.ai-primary { background: #4f46e5; color: #fff; }
.ai-secondary:hover { filter: brightness(0.95); }
.ai-primary:hover { filter: brightness(1.06); }

/* Remove default triangles from <summary> */
.ai-accordionItem summary::-webkit-details-marker { display: none; }


/* ====== RESPONSIVE BREAKPOINTS ====== */
@media (max-width: 1400px) {
  .pageWrap { grid-template-columns: 240px minmax(0,1fr); }
  .mainWrap { padding-right: 34px; }
}
@media (max-width: 1200px) {
  .pageWrap { grid-template-columns: 220px minmax(0,1fr); gap: 14px; }
}
@media (max-width: 980px) {
  .pageWrap { grid-template-columns: 1fr; }
  .leftCol { order: 1; top: 0; right: 0; }
  .mainWrap { order: 2; }
}
